<form class="formly" novalidate name="iscForm"
      ng-submit="formInternalCtrl.onSubmit()"
      ng-click="formInternalCtrl.closeAnnotations()">
  <!-- Validation notifications -->
  <isc-notification-set></isc-notification-set>

  <!--Main form-->
  <div ng-hide="formInternalCtrl.childConfig.renderForm">
    <div ng-if="formInternalCtrl.multiConfig">
      <isc-subform model="formInternalCtrl.model"
                   form-title="formInternalCtrl.formDefinition.form.name"
                   options="formInternalCtrl.options"
                   multi-config="formInternalCtrl.multiConfig">
      </isc-subform>
    </div>

    <!--Validation form-->
    <div ng-hide="true">
      <div ng-if="formInternalCtrl.validation.renderForm">
        <formly-form model="formInternalCtrl.validation.model"
                     options="formInternalCtrl.validation.options"
                     fields="formInternalCtrl.validation.fields"
                     form="formInternalCtrl.validation.form">
        </formly-form>
      </div>
    </div>

    <!--Debugging-->
    <div ng-if="::formInternalCtrl.debugDisplay.additionalModels">
      <hr/>

      <div class="grid-block">
        <div class="grid-content">
          <h4>Additional Data Models (debugging display only)</h4>
          <pre>{{formInternalCtrl.formConfig.additionalModels | json}}</pre>
        </div>
      </div>
    </div>

    <div ng-if="::formInternalCtrl.debugDisplay.annotations">
      <hr/>

      <div class="grid-block">
        <div class="grid-content">
          <h4>Annotation Data (debugging display only)</h4>
          <pre>{{formInternalCtrl.options.formState._annotations.data | json}}</pre>
        </div>
      </div>
    </div>

    <div ng-if="::formInternalCtrl.debugDisplay.formData">
      <hr/>

      <div class="grid-block">
        <div class="grid-content">
          <h4>Form Data (debugging display only)</h4>
          <pre>{{formInternalCtrl.model | json}}</pre>
        </div>
      </div>
    </div>

    <div ng-if="::formInternalCtrl.debugDisplay.formState">
      <hr/>

      <div class="grid-block">
        <div class="grid-content">
          <h4>Form State (debugging display only)</h4>
          <pre>{{formInternalCtrl.options.formState | json}}</pre>
        </div>
      </div>
    </div>

  </div>
</form>
