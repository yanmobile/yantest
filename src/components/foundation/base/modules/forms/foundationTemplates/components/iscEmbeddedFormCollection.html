<div class="subform">
  <!--Table Display-->
  <div class="grid-block">

    <ddp-table config="efCollectionCtrl.tableConfig"
               data="efCollectionCtrl.collectionModel">
    </ddp-table>

    <div class="grid-content collapse clearfix">
      <!--Add Button-->
      <button class="button float-left"
              type="button"
              ng-if="efCollectionCtrl.mode != 'view'"
              ng-click="efCollectionCtrl.newForm()">
        <i class="fa fa-plus"></i> {{'Forms_Collections_Add' | translate}} {{efCollectionCtrl.label | translate}}
      </button>
    </div>
  </div>


  <!--Modal Editor-->
  <div zf-modal
       name="{{efCollectionCtrl.modalName}}"
       class="collapse"
       id="{{efCollectionCtrl.modalName}}"
       overlay-close="false">
    <div class="primary title-bar">
      <div class="center title">
        {{ ((efCollectionCtrl.isNew ? 'Add' : 'Edit') | translate ) + ' ' + (efCollectionCtrl.label | translate) }}
      </div>
    </div>

    <div class="grid-content">

      <form>
        <div ng-if="efCollectionCtrl.renderForm">
          <formly-form model="efCollectionCtrl.editModel"
                       fields="efCollectionCtrl.fields"
                       options="efCollectionCtrl.subformOptions"
                       form="efCollectionCtrl.subform.form">
          </formly-form>
        </div>

        <div class="controls clearfix">
          <button class="cancel float-left flat"
                  type="button"
                  ng-click="efCollectionCtrl.cancel()">
            Cancel
          </button>

          <button class="float-right flat"
                  type="button"
                  ng-click="efCollectionCtrl.saveForm()">
            Save {{efCollectionCtrl.label}}
          </button>
        </div>
      </form>

    </div>

  </div>

</div>
